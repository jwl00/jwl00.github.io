<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <meta name="description" content="什么也不留下">
  <meta name="keyword" content="hexo-theme, Android">
  
    <link rel="shortcut icon" href="/css/images/logo.png">
  
  <title>
    
      01-Mysql学习笔记-基础概念 | JWL博客
    
  </title>
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.css" rel="stylesheet">
  <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/tomorrow.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/plugins/gitment.css">
  <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="//cdn.bootcss.com/geopattern/1.2.3/js/geopattern.min.js"></script>
  <script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>
  <script src="/js/qrious.js"></script>
<script src="/js/gitment.js"></script>
</head>
<div class="wechat-share">
  <img src="/css/images/logo.png" />
</div>

  <body>
    <header class="header fixed-header">
  <div class="header-container">
    <a class="home-link" href="/">
      <div class="logo"></div>
      <span>JWL博客</span>
    </a>
    <ul class="right-list">
      
        <li class="list-item">
          
            <a href="/" class="item-link">Home</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/tags/" class="item-link">Tags</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/archives/" class="item-link">Archives</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/project/" class="item-link">Projects</a>
          
        </li>
      
        <li class="list-item">
          
            <a href="/about/" class="item-link">About</a>
          
        </li>
      
    </ul>
    <div class="menu">
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </div>
    <div class="menu-mask">
      <ul class="menu-list">
        
          <li class="menu-item">
            
              <a href="/" class="menu-link">Home</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/tags/" class="menu-link">Tags</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/archives/" class="menu-link">Archives</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/project/" class="menu-link">Projects</a>
            
          </li>
        
          <li class="menu-item">
            
              <a href="/about/" class="menu-link">About</a>
            
          </li>
        
      </ul>
    </div>
  </div>
</header>

    <div id="article-banner">
  <h2>01-Mysql学习笔记-基础概念</h2>
  <p class="post-date">2015-08-14</p>
  <div class="arrow-down">
    <a href="javascript:;"></a>
  </div>
</div>
<main class="app-body">
  <article class="post-article">
    <section class="markdown-content"><a id="more"></a>
<h1 id="01-Mysql学习笔记-基础概念"><a href="#01-Mysql学习笔记-基础概念" class="headerlink" title="01-Mysql学习笔记-基础概念"></a>01-Mysql学习笔记-基础概念</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_091506.png" alt="sp170111_091506"></p>
<h2 id="关系型数据库"><a href="#关系型数据库" class="headerlink" title="关系型数据库"></a>关系型数据库</h2><ol>
<li>定义：关系型数据库是一种建立在关系模型上的数据库</li>
<li>关系模型（背）：<ol>
<li>数据结构：数据的存储问题（二维表）</li>
<li>操作指令集：SQL语句</li>
<li>完整性约束：表内数据约束、表之间的数据约束</li>
</ol>
</li>
<li>关系型数据库的设计：<ol>
<li>找出系统中所存在的实体</li>
<li>找出实体（表）中应该存储的信息（字段名）</li>
</ol>
</li>
</ol>
<h2 id="教学系统实例"><a href="#教学系统实例" class="headerlink" title="教学系统实例"></a>教学系统实例</h2><h3 id="描述实体内部的联系："><a href="#描述实体内部的联系：" class="headerlink" title="描述实体内部的联系："></a>描述实体内部的联系：</h3><p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_093638.png" alt="sp170111_093638"></p>
<p>发现第二列中只能放置性别（内部约束），每一行都是在描述每一个学生（内部联系）</p>
<p>关系型数据库的特点之一：浪费空间</p>
<p>关系型数据库的存储结构是<strong>二维表</strong></p>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_093959.png" alt="sp170111_093959"></p>
<h3 id="描述实体之间的关系："><a href="#描述实体之间的关系：" class="headerlink" title="描述实体之间的关系："></a>描述实体之间的关系：</h3><p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_094713.png" alt="sp170111_094713"></p>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>数据库：database</p>
<p>DBS(Database System)数据库系统</p>
<p>DBS = DBMS(Database Management System数据库管理系统) + DB（Database）</p>
<p>DBA = Database Administrator数据库管理员  </p>
<p>行/记录：row/record 一行（=元组，或记录）是一组相关的数据，例如一条用户订阅的数据，行是从表的结构出发，记录是从数据角度出发</p>
<p>列/字段：column/field： 一列(数据元素) 包含了相同的数据, 例如邮政编码的数据，类也是从表的结构出发，字段是从数据角度出发</p>
<h2 id="SQL语句"><a href="#SQL语句" class="headerlink" title="SQL语句"></a>SQL语句</h2><p>SQL：Structured Query Language（结构化查询语言）</p>
<p>SQL分类（背）：</p>
<ol>
<li>DDL：Data Definition Language：数据定义语言，用来维护数据的结构。如：create、drop（删除）、alter（修改）</li>
<li>DML：Data Manipulation Language：数据操作语言，用来对数据进行操作。如：insert、delete、update。又分成部分：DQL Data Query Language：结构查询语言，如：select</li>
<li>DCL ：Data Control Language：数据控制语言，主要是负责权限管理，如：grant（分配权限）、revoke（回收权限）</li>
</ol>
<p>SQL是所有的关系型数据库的操作指令，是一种约束，但不强制，不同的数据产品可能有差异</p>
<h2 id="SQL服务器对象"><a href="#SQL服务器对象" class="headerlink" title="SQL服务器对象"></a>SQL服务器对象</h2><p>Mysql服务器分成四个部分：系统（DBMS）-&gt; 数据库（DB）-&gt; 数据表（Table）-&gt; 字段（field） </p>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_114944.png" alt="sp170111_114944"></p>
<h2 id="SQL基本操作"><a href="#SQL基本操作" class="headerlink" title="SQL基本操作"></a>SQL基本操作</h2><p>按照操作对象进行分类：库操作、表操作、字段操作</p>
<h3 id="库操作"><a href="#库操作" class="headerlink" title="库操作"></a>库操作</h3><p>就是面向数据库的增删改查</p>
<ul>
<li>新增数据库</li>
</ul>
<p><code>create database 名字[库选项] ；</code></p>
<p>库选项包括两个部分：</p>
<ol>
<li>字符集设定：charset/charseter set 具体字符集（数据的编码格式）：常见字符集：GBK和UTF8</li>
<li>校对集合设定：collate（数据的比较规则）</li>
</ol>
<p>示例代码：</p>
<p><code>create database demo charset utf8；</code></p>
<p>– 表示单行注释  # 也可以表示单行注释</p>
<p>SQL报错只是会报告大概位置，不会说明报错原因（静默模式），中文数据库是可以但是要保证服务器可以识别中文  </p>
<hr>
<p>解决方案：首先设置当前中文的字符集是什么：</p>
<p><code>set names gbk;</code></p>
<p><code>create database 中国 charset utf8；</code></p>
<p>这样则可以创建中文的数据库名字</p>
<hr>
<p>执行创建数据库的SQL语句之后服务器执行过程？</p>
<ol>
<li>在数据库的系统之中，增加了对应的数据库信息</li>
<li>在服务器1目录中增加了对应的数据，在win10中的目录：</li>
</ol>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_130815.png" alt="sp170111_130815"></p>
<ol>
<li>每一个数据库中个都有db.opt文件中含有字符集和校对集</li>
</ol>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_131344.png" alt="sp170111_131344"></p>
<hr>
<ul>
<li>查看数据库</li>
</ul>
<ol>
<li><p>查看所有数据库<code>show databases;</code></p>
</li>
<li><p>查看指定的数据库：模糊查询   %匹配多个 _ 匹配耽搁字符；实例</p>
<p><code>SHOW DATABASES LIKE &#39;_emo&#39;;</code>注意这个符号是’’,如果要查询的是_那么则要添加\来转义</p>
</li>
<li><p>查看数据库的创建语句<code>SHOW CREATE DATABASE demo;</code>系统在创建之后会优化语句</p>
</li>
</ol>
<ul>
<li>更新数据库</li>
</ul>
<ol>
<li>数据库名字不可以更改</li>
<li>数据库的修改仅仅是库选项（字符集和校对集）</li>
</ol>
<p>实例代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ALTER DATABASE demo CHAR SET gbk;</div></pre></td></tr></table></figure>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_142946.png" alt="sp170111_142946"></p>
<p>校对集同时发生改变—-&gt;校对集依赖于字符集</p>
<ul>
<li>删除数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DROP DATABASE demo;</div></pre></td></tr></table></figure>
<hr>
<p>数据库的删除在服务器中的实质：</p>
<ol>
<li>在数据库的视窗中看不到数据库</li>
<li>数据库对应的文件夹也被删除</li>
</ol>
<h3 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h3><ul>
<li>新增</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">create table [if not exists] (字段名称 数据类型，字段名称 数据类型)[表选项]；</div></pre></td></tr></table></figure>
<p>表选项：字符集—确定字段的字符集；校对集；存储引擎</p>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_160244.png" alt="sp170111_160244"></p>
<p>示例代码：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">USE demo;</div><div class="line">CREATE TABLE class(name VARCHAR(10),age VARCHAR(10)) CHAR SET utf8;</div></pre></td></tr></table></figure>
<hr>
<p>新建表服务器发生的实质：</p>
<ol>
<li>指定数据库存在的表</li>
<li>在数据库对应的文件夹中产生具体的文件，如class.frm（和具体的引擎有关）</li>
</ol>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_160506.png" alt="sp170111_160506"></p>
<ul>
<li>查看数据表</li>
</ul>
<ol>
<li>查看所有的表：<code>SHOW TABLES ;</code></li>
<li>查看部分表：模糊匹配（和数据库类似）  注意\g 等价于分号</li>
<li>查看创建表的语句：<code>SHOW CREATE TABLE class</code></li>
<li>查看表中的信息，三种方式<ol>
<li>desc 表名字</li>
<li>describe 表名字；</li>
<li>show colums from 表的名字；</li>
</ol>
</li>
</ol>
<ul>
<li>修改数据表</li>
</ul>
<p>分成表本身和字段两种</p>
<p>表的名字一般是数据库的前两个_表名；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">RENAME TABLE class TO de_class;</div></pre></td></tr></table></figure>
<p>修改表选项：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE de_class CHAR SET utf8;-- 改变字符集</div><div class="line">SHOW CREATE TABLE de_class;   -- 显示字符集</div></pre></td></tr></table></figure>
<p><strong>修改字段</strong></p>
<p>alter  table 表名 add 列明 数据结构 位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE de_class ADD id INT FIRST ;</div><div class="line">DESC de_class;</div></pre></td></tr></table></figure>
<p>位置可以是first（第一个）after +字段名 （在xx之后）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> de_class <span class="keyword">ADD</span> ids <span class="built_in">INT</span> <span class="keyword">AFTER</span> <span class="keyword">id</span>;</div><div class="line">DESC de_class;</div></pre></td></tr></table></figure>
<hr>
<p>修改字段：</p>
<p>alter table 表名 modify 字段名 数据类型 [属性] [位置]</p>
<p>其中属性表示是否可以为空等，位置和上面一样</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE de_class MODIFY ids INT AFTER age;</div><div class="line">DESC de_class;</div></pre></td></tr></table></figure>
<hr>
<p>重命名字段：</p>
<p>alter table 表名 change 旧字段名 新字段名 数据类型 [属性][位置]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE de_class CHANGE ids idds INT ;</div><div class="line">DESC de_class;</div></pre></td></tr></table></figure>
<hr>
<p>删除字段：</p>
<p>alter table 表名 drop 字段；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ALTER TABLE de_class DROP idds;</div><div class="line">DESC de_class;</div></pre></td></tr></table></figure>
<p>会删除该字段的所有数据</p>
<hr>
<p>删除数据表：</p>
<p>drop table 表名，表名；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DROP TABLE de_class;</div><div class="line">USE demo;</div><div class="line">SHOW TABLES ;</div></pre></td></tr></table></figure>
<p>服务器的核心变化：</p>
<ol>
<li>在表空间没有指定的表</li>
<li>在数据库对应的文件夹中删除文件</li>
</ol>
<h3 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h3><h4 id="新增数据字段"><a href="#新增数据字段" class="headerlink" title="新增数据字段"></a>新增数据字段</h4><p>两种方案：</p>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_164228.png" alt="sp170111_164228"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">INSERT INTO class2 VALUES (&quot;10&quot;,&quot;dd&quot;),(&quot;dd&quot;,&quot;pp&quot;),(&quot;qq&quot;,&quot;oo&quot;);</div></pre></td></tr></table></figure>
<p><img src="http://oaxelf1sk.bkt.clouddn.com/sp170111_164636.png" alt="sp170111_164636"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">INSERT INTO class2 (name, age) VALUES (&quot;44&quot;,&quot;88&quot;);</div><div class="line">SELECT *</div><div class="line">FROM class2;</div></pre></td></tr></table></figure>
<h4 id="查看字段"><a href="#查看字段" class="headerlink" title="查看字段"></a>查看字段</h4><p>select */字段类表 from 表名 [where 条件];</p>
<p>查看所有数据字段：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">SELECT *</div><div class="line">FROM class2;</div></pre></td></tr></table></figure>
<p>查看指定条件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SELECT name,age FROM class2 WHERE name=&quot;44&quot;;</div></pre></td></tr></table></figure>
<h4 id="更新字段"><a href="#更新字段" class="headerlink" title="更新字段"></a>更新字段</h4><p>update 表名 set 字段 = 值 [where 条件]；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">UPDATE class2 SET age = &quot;iiiii&quot; WHERE name = &quot;10&quot;;</div><div class="line">SELECT *</div><div class="line">FROM class2;</div></pre></td></tr></table></figure>
<p>更新不一定会成功</p>
<h4 id="删除字段"><a href="#删除字段" class="headerlink" title="删除字段"></a>删除字段</h4><p>delete from 表名[where 条件]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">DELETE FROM class2 WHERE age = &quot;pp&quot;;</div><div class="line">SELECT *</div><div class="line">FROM class2;</div></pre></td></tr></table></figure>
</section>
    
      <div class="tags">
        <span>Tags:</span>
        
  <a href="/tags#MySQL" >
    <span class="tag-code">MySQL</span>
  </a>

      </div>
    
    <div class="money-like">
      <div class="reward-btn">
        赏
        <span class="money-code">
          <span class="alipay-code">
            <div class="code-image"></div>
            <b>使用支付宝打赏</b>
          </span>
          <span class="wechat-code">
            <div class="code-image"></div>
            <b>使用微信打赏</b>
          </span>
        </span>
      </div>
      <p class="notice">若你觉得我的文章对你有帮助，欢迎点击上方按钮对我打赏</p>
    </div>
    <div class="qrcode">
      <canvas id="share-qrcode"></canvas>
      <p class="notice">扫描二维码，分享此文章</p>
    </div>
    
      <div id="comments"></div>
    
  </article>
</main>

<script>
  (function () {
    var url = 'http://bbbb.ml/2015/08/14/SQL/01-Mysql学习笔记-基础概念/';
    var banner = 'http://osk1xe27i.bkt.clouddn.com/1.jpg'
    if (banner !== 'undefined') {
      $('#article-banner').css({
        'background-image': 'url(' + banner + ')'
      })
    } else {
      $('#article-banner').geopattern(url)
    }
    $('.header').removeClass('fixed-header')

     // error image
    $(".markdown-content img").on('error', function() {
      $(this).attr('src', 'http://file.muyutech.com/error-img.png') 
    })

    // zoom image
    $(".markdown-content img").on('click', function() {
      var src = $(this).attr('src')
      var imageW = $(this).width()
      var imageH = $(this).height()
      
      var zoom = ($(window).width() * 0.95 / imageW).toFixed(2)
      zoom = zoom < 1 ? 1 : zoom
      zoom = zoom > 2 ? 2 : zoom
      var transY = (($(window).height() - imageH) / 2).toFixed(2)

      $('body').append('<div class="image-view-wrap"><div class="image-view-inner"><img src="'+ src +'" /></div></div>')
      $('.image-view-wrap').addClass('wrap-active')
      $('.image-view-wrap img').css({
        'width': `${imageW}`,
        'transform': `translate3d(0, ${transY}px, 0) scale3d(${zoom}, ${zoom}, 1)`
      })
      $('html').css('overflow', 'hidden')

      $('.image-view-wrap').on('click', function() {
        $(this).remove()
        $('html').attr('style', '')
      })
    })

    // qrcode
    var qr = new QRious({
      element: document.getElementById('share-qrcode'),
      value: document.location.href
    });

    // gitment
    var gitmentConfig = "jwl00";
    if (gitmentConfig != "undefined") {
      var gitment = new Gitment({
        id: "01-Mysql学习笔记-基础概念",
        owner: "jwl00",
        repo: "jwl00.github.io",
        oauth: {
          client_id: "ae21ad25810b1f2cc193",
          client_secret: "7b6bb525adfeee63bd087132d98e6fd015d49ed8"
        },
        theme: {
          render(state, instance) {
            const container = document.createElement('div')
            container.lang = "en-US"
            container.className = 'gitment-container gitment-root-container'
            container.appendChild(instance.renderHeader(state, instance))
            container.appendChild(instance.renderEditor(state, instance))
            container.appendChild(instance.renderComments(state, instance))
            container.appendChild(instance.renderFooter(state, instance))
            return container;
          }
        }
      })
      gitment.render(document.getElementById('comments'))
    }
  })();
</script>

    <div class="scroll-top">
  <span class="arrow-icon"></span>
</div>
    <footer class="app-footer">
  <p class="copyright">
    &copy; 2017 | Proudly powered by <a href="https://hexo.io" target="_blank">Hexo</a>
    <br>
    Theme by <a href="https://github.com/yanm1ng">yanm1ng</a>
  </p>
</footer>

<script>
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
</script>
<script>
  async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
    FastClick.attach(document.body);
  })
</script>

<script>
  var hasLine = 'true';
  async("//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js", function(){
    $('figure pre').each(function(i, block) {
      var figure = $(this).parents('figure');
      if (hasLine == 'false') {
        figure.find('.gutter').hide();
      }
      var lang = figure.attr('class').split(' ')[1] || 'code';
      var codeHtml = $(this).html();
      var codeTag = document.createElement('code');
      codeTag.className = lang;
      codeTag.innerHTML = codeHtml;
      $(this).attr('class', '').empty().html(codeTag);
      figure.attr('data-lang', lang.toUpperCase());
      hljs.highlightBlock(block);
    });
  })
</script>
<!-- Baidu Tongji -->

<script src="/js/script.js"></script>
  </body>
</html>